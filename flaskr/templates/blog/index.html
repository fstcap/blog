{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Posts{% endblock %}</h1>
    {% if g.user %}
    <a class="action" href="{{ url_for('blog.create') }}">New</a>
    {% endif %}
{% endblock %}

{% block content %}
    
    {% from 'blog/panel.html' import about %}
    
    {% for post in posts %}
    {{ about(post=post) }}
    {% if not loop.last %}
    <hr />
    {% endif %}
    {% endfor %}
    
    {% from 'components.html' import page_btn %}
    {{ page_btn(url='blog.index', cur_page=cur_page, total_page=total_page) }}
{% endblock %}
